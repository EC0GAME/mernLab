{"ast":null,"code":"var _jsxFileName = \"/Users/eco_game/cards/frontend/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  var loginName;\n  var loginPassword;\n  const [message, setMessage] = useState('');\n  const doLogin = async event => {\n    event.preventDefault();\n    var obj = {\n      login: loginName.value,\n      password: loginPassword.value\n    };\n    var js = JSON.stringify(obj);\n    try {\n      const response = await fetch('http://localhost:5000/api/login', {\n        method: 'POST',\n        body: js,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      var res = JSON.parse(await response.text());\n      if (res.id <= 0) {\n        setMessage('User/Password combination incorrect');\n      } else {\n        var user = {\n          firstName: res.firstName,\n          lastName: res.lastName,\n          id: res.id\n        };\n        localStorage.setItem('user_data', JSON.stringify(user));\n        setMessage('');\n        window.location.href = '/cards';\n      }\n    } catch (e) {\n      alert(e.toString());\n      return;\n    }\n  };\n  var _ud = localStorage.getItem('user_data');\n  var ud = JSON.parse(_ud);\n  var userId = ud.id;\n  var firstName = ud.firstName;\n  var lastName = ud.lastName;\n  const addCard = async event => {\n    event.preventDefault();\n    var obj = {\n      userId: userId,\n      card: card.value\n    };\n    var js = JSON.stringify(obj);\n    try {\n      const response = await fetch('http://localhost:5000/api/addcard', {\n        method: 'POST',\n        body: js,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      var txt = await response.text();\n      var res = JSON.parse(txt);\n      if (res.error.length > 0) {\n        setMessage(\"API Error:\" + res.error);\n      } else {\n        setMessage('Card has been added');\n      }\n    } catch (e) {\n      setMessage(e.toString());\n    }\n  };\n  const searchCard = async event => {\n    event.preventDefault();\n    var obj = {\n      userId: userId,\n      search: search.value\n    };\n    var js = JSON.stringify(obj);\n    try {\n      const response = await fetch('http://localhost:5000/api/searchcards', {\n        method: 'POST',\n        body: js,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      var txt = await response.text();\n      var res = JSON.parse(txt);\n      var _results = res.results;\n      var resultText = '';\n      for (var i = 0; i < _results.length; i++) {\n        resultText += _results[i];\n        if (i < _results.length - 1) {\n          resultText += ', ';\n        }\n      }\n      setResults('Card(s) have been retrieved');\n      setCardList(resultText);\n    } catch (e) {\n      alert(e.toString());\n      setResults(e.toString());\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"loginDiv\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      id: \"inner-title\",\n      children: \"PLEASE LOG IN\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 50\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"loginName\",\n      placeholder: \"Username\",\n      ref: c => loginName = c\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      id: \"loginPassword\",\n      placeholder: \"Password\",\n      ref: c => loginPassword = c\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"submit\",\n      id: \"loginButton\",\n      class: \"buttons\",\n      value: \"Do It\",\n      onClick: doLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      id: \"loginResult\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"tYaLAwkLc77MHDU2+aT1QEgoWAk=\");\n_c = Login;\n;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","Login","_s","loginName","loginPassword","message","setMessage","useState","doLogin","event","preventDefault","obj","login","value","password","js","JSON","stringify","response","fetch","method","body","headers","res","parse","text","id","user","firstName","lastName","localStorage","setItem","window","location","href","e","alert","toString","_ud","getItem","ud","userId","addCard","card","txt","error","length","searchCard","search","_results","results","resultText","i","setResults","setCardList","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","ref","c","class","onClick","_c","$RefreshReg$"],"sources":["/Users/eco_game/cards/frontend/src/components/Login.js"],"sourcesContent":["import React from 'react';\nfunction Login()\n{\n  var loginName;\n  var loginPassword;\n  const [message,setMessage] = useState('');\n  const doLogin = async event =>\n  {\n    event.preventDefault();\n    var obj = {login:loginName.value,password:loginPassword.value};\n    var js = JSON.stringify(obj);\n    try\n    {\n      const response = await fetch('http://localhost:5000/api/login',\n      {method:'POST',body:js,headers:{'Content-Type':\n      'application/json'}});\n      var res = JSON.parse(await response.text());\n      if( res.id <= 0 )\n      {\n        setMessage('User/Password combination incorrect');\n      }\n      else\n      {\n        var user =\n        {firstName:res.firstName,lastName:res.lastName,id:res.id}\n        localStorage.setItem('user_data', JSON.stringify(user));\n        setMessage('');\n        window.location.href = '/cards';\n      }\n    }\n    catch(e)\n    {\n      alert(e.toString());\n      return;\n    }\n  };\n\n  var _ud = localStorage.getItem('user_data');\n  var ud = JSON.parse(_ud);\n  var userId = ud.id;\n  var firstName = ud.firstName;\n  var lastName = ud.lastName;\n  const addCard = async event =>\n  {\n    event.preventDefault();\n    var obj = {userId:userId,card:card.value};\n    var js = JSON.stringify(obj);\n    try\n    {\n      const response = await fetch('http://localhost:5000/api/addcard',\n      {method:'POST',body:js,headers:{'Content-Type':\n      'application/json'}});\n      var txt = await response.text();\n      var res = JSON.parse(txt);\n      if( res.error.length > 0 )\n      {\n        setMessage( \"API Error:\" + res.error );\n      }\n      else\n      {\n        setMessage('Card has been added');\n      }\n    }\n    catch(e)\n    {\n      setMessage(e.toString());\n    }\n  };\n\n  const searchCard = async event =>\n  {\n    event.preventDefault();\n    var obj = {userId:userId,search:search.value};\n    var js = JSON.stringify(obj);\n    try\n    {\n      const response = await fetch('http://localhost:5000/api/searchcards',\n      {method:'POST',body:js,headers:{'Content-Type':\n      'application/json'}});\n      var txt = await response.text();\n      var res = JSON.parse(txt);\n      var _results = res.results;\n      var resultText = '';\n      for( var i=0; i<_results.length; i++ )\n      {\n        resultText += _results[i];\n        if( i < _results.length - 1 )\n        {\n          resultText += ', ';\n        }\n      }\n      setResults('Card(s) have been retrieved');\n      setCardList(resultText);\n    }\n    catch(e)\n    {\n      alert(e.toString());\n      setResults(e.toString());\n    }\n  };\n  return(\n    <div id=\"loginDiv\">\n      <span id=\"inner-title\">PLEASE LOG IN</span><br />\n      <input type=\"text\" id=\"loginName\" placeholder=\"Username\" ref={(c) => loginName = c} />\n      <input type=\"password\" id=\"loginPassword\" placeholder=\"Password\" ref={(c) => loginPassword = c} />\n      <input type=\"submit\" id=\"loginButton\" class=\"buttons\" value = \"Do It\"\n        onClick={doLogin} />\n      <span id=\"loginResult\">{message}</span>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}